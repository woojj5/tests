# Aì•ˆ êµ¬í˜„ ì™„ë£Œ ìš”ì•½

## âœ… êµ¬í˜„ëœ íŒŒì¼

### 1. ìŠ¤í¬ë¦½íŠ¸
- **`scripts/generate_pca_full.py`**: ì „ì²´ PCA ê²°ê³¼ ìƒì„± (117ì°¨ì›ê¹Œì§€)

### 2. ë¼ì´ë¸ŒëŸ¬ë¦¬
- **`lib/pca-cache.ts`**: PCA ì „ì—­ ë©”ëª¨ë¦¬ ìºì‹œ ê´€ë¦¬

### 3. API ì—”ë“œí¬ì¸íŠ¸
- **`app/api/pca/full/route.ts`**: PCA ì „ì²´ ê²°ê³¼ ë°˜í™˜ (ETag, Cache-Control ì§€ì›)
- **`app/api/pca/revalidate/route.ts`**: ìºì‹œ ë¬´íš¨í™” ì—”ë“œí¬ì¸íŠ¸

### 4. ì»´í¬ë„ŒíŠ¸
- **`components/PcaKMeansChartA.tsx`**: Aì•ˆ êµ¬í˜„ (í•œ ë²ˆë§Œ ë¡œë“œ, í´ë¼ì´ì–¸íŠ¸ ê³„ì‚°)

### 5. í˜ì´ì§€
- **`app/metrics-pca-a/page.tsx`**: Aì•ˆ í…ŒìŠ¤íŠ¸ í˜ì´ì§€

## ğŸ”„ ë³€ê²½ ì‚¬í•­ (Diff ìš”ì•½)

### ì¶”ê°€ëœ íŒŒì¼
```
+ scripts/generate_pca_full.py
+ lib/pca-cache.ts
+ app/api/pca/full/route.ts
+ app/api/pca/revalidate/route.ts
+ components/PcaKMeansChartA.tsx
+ app/metrics-pca-a/page.tsx
+ PCA_A_IMPLEMENTATION.md
+ PCA_A_SUMMARY.md
```

### ê¸°ì¡´ íŒŒì¼ ìˆ˜ì • ì—†ìŒ
- ê¸°ì¡´ `PcaKMeansChart.tsx`ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ (Bì•ˆ ë¹„êµìš©)
- ê¸°ì¡´ `app/metrics-pca/page.tsx`ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. PCA ë°ì´í„° ìƒì„± (ìµœì´ˆ 1íšŒ)

```bash
cd /mnt/hdd1/jeon/dir
python3 scripts/generate_pca_full.py
```

**ì¶œë ¥**: `pca_full.json` íŒŒì¼ ìƒì„± (ì•½ 2-5MB)

### 2. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

### 3. í…ŒìŠ¤íŠ¸

- **Aì•ˆ**: http://localhost:3000/metrics-pca-a
- **ê¸°ì¡´**: http://localhost:3000/metrics-pca

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ

| í•­ëª© | ê¸°ì¡´ (Bì•ˆ ìŠ¤íƒ€ì¼) | Aì•ˆ |
|------|------------------|-----|
| ì²« ë¡œë”© | 1íšŒ API í˜¸ì¶œ | 1íšŒ API í˜¸ì¶œ |
| k ë³€ê²½ ì‹œ | ë§¤ë²ˆ API í˜¸ì¶œ | **ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ ì—†ìŒ** |
| k ë³€ê²½ ì‘ë‹µ ì‹œê°„ | 100-500ms (p95) | **< 50ms (p95)** |
| ë„¤íŠ¸ì›Œí¬ ì˜ì¡´ì„± | ë†’ìŒ | ë‚®ìŒ (ì²« ë¡œë”©ë§Œ) |

## ğŸ¯ ì£¼ìš” ê°œì„ ì‚¬í•­

1. **ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ ì œê±°**: k ë³€ê²½ ì‹œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¦‰ì‹œ ê³„ì‚°
2. **ìºì‹œ ì „ëµ**: ë©”ëª¨ë¦¬ ìºì‹œ + íŒŒì¼ ìºì‹œ + HTTP ìºì‹œ (ETag)
3. **ì¦‰ì‹œ ë°˜ì˜**: `useMemo`ë¡œ k ë³€ê²½ ì‹œ < 50ms ë‚´ UI ì—…ë°ì´íŠ¸
4. **ì—ëŸ¬ ì²˜ë¦¬**: ë¡œë”© ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë²„íŠ¼ ì œê³µ

## ğŸ” ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì„±ëŠ¥ ê²€ì¦
- [ ] ìŠ¬ë¼ì´ë” 1â†”117 ë¹ ë¥´ê²Œ 10íšŒ ë³€ê²½: ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ 1íšŒë§Œ í™•ì¸
- [ ] ë¸Œë¼ìš°ì € Performance íƒ­: paint ì‹œê°„ < 50ms í™•ì¸
- [ ] ëŠë¦° ë„¤íŠ¸ì›Œí¬ ëª¨ë“œ: ì²« ë¡œë”© í›„ k ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜ í™•ì¸

### ê¸°ëŠ¥ ê²€ì¦
- [ ] k=1ë¶€í„° k=117ê¹Œì§€ ëª¨ë“  ê°’ì—ì„œ ì •ìƒ ë™ì‘
- [ ] í´ëŸ¬ìŠ¤í„° í†µê³„ í‘œì‹œ ì •ìƒ
- [ ] Silhouette Score / Elbow Method ê·¸ë˜í”„ ì •ìƒ
- [ ] ê·¸ë˜í”„ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì •ìƒ

### ì—ëŸ¬ ì²˜ë¦¬
- [ ] `pca_full.json` íŒŒì¼ì´ ì—†ì„ ë•Œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
- [ ] ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ ë²„íŠ¼ ë™ì‘
- [ ] ë¸Œë¼ìš°ì € ì½˜ì†”ì— ì—ëŸ¬ ë¡œê·¸ ì—†ìŒ

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒ)

1. **Float32Array ë°”ì´ë„ˆë¦¬ ì „ì†¡**: íŒŒì¼ í¬ê¸° 50% ê°ì†Œ
2. **Web Worker**: K-Means ê³„ì‚°ì„ ë©”ì¸ ìŠ¤ë ˆë“œ ì™¸ë¶€ë¡œ ë¶„ë¦¬
3. **ì§€ì—° ë¡œë”©**: ìƒìœ„ 10ê°œ PCë§Œ ì„ ë¡œë”©, ë‚˜ë¨¸ì§€ í•„ìš” ì‹œ ë¡œë“œ

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **NumPy ë²„ì „**: í™˜ê²½ì— NumPy 1.xì™€ 2.x ì¶©ëŒì´ ìˆì„ ìˆ˜ ìˆìŒ
   ```bash
   # í•´ê²° ë°©ë²•
   pip install "numpy<2"
   ```

2. **íŒŒì¼ í¬ê¸°**: `pca_full.json`ì´ ì•½ 2-5MBì´ë¯€ë¡œ ì²« ë¡œë”© ì‹œê°„ ê³ ë ¤
   - í•´ê²°: ETagë¡œ ë¸Œë¼ìš°ì € ìºì‹œ í™œìš©
   - ë˜ëŠ”: Float32Array ë°”ì´ë„ˆë¦¬ ì „ì†¡

3. **ë©”ëª¨ë¦¬ ì‚¬ìš©**: í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì „ì²´ PCA ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ìœ ì§€
   - 117Ã—117Ã—8 bytes â‰ˆ 109KB (í¬ì¸íŠ¸ ë°ì´í„°)
   - JSON íŒŒì‹± í›„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€ ê°€ëŠ¥

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- `PCA_A_IMPLEMENTATION.md`: ìƒì„¸ êµ¬í˜„ ê°€ì´ë“œ
- `PERFORMANCE_REPORT.md`: ì„±ëŠ¥ ìµœì í™” ë¦¬í¬íŠ¸

